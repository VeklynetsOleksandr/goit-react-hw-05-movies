"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[881],{881:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(683),a=r(861),s=r(885),c=r(757),u=r.n(c),o=r(562),i=r.n(o),h={form:"Movies_form__4ow+Z",button:"Movies_button__GcIka",input:"Movies_input__KrUqs"},f=r(791),l=r(997),p=r(87),m=r(689),v=r(184);function d(){var e=(0,f.useState)(""),t=(0,s.Z)(e,2),r=t[0],c=t[1],o=(0,f.useState)([]),d=(0,s.Z)(o,2),_=d[0],x=d[1],g=(0,m.TH)(),w=(0,m.s0)();(0,f.useEffect)((function(){var e=new URLSearchParams(g.search).get("query");if(e){var t=function(){var t=(0,a.Z)(u().mark((function t(){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.z1)(e);case 2:r=t.sent,0===(n=r.results).length&&i().Notify.failure("We did not found anything! Please change your request and try again"),x(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[g.search]);var y=function(){var e=(0,a.Z)(u().mark((function e(t){var a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=new URLSearchParams(g.search).get("query"),((s=r.trim())||s!==a)&&w((0,n.Z)((0,n.Z)({},g),{},{search:"query=".concat(s)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("header",{className:h.searchbar,children:(0,v.jsxs)("form",{className:h.form,onSubmit:y,children:[(0,v.jsx)("input",{onChange:function(e){return c(e.target.value)},className:h.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",value:r}),(0,v.jsx)("button",{type:"submit",className:h.button,children:"\ud83d\udd0d"})]})}),(0,v.jsx)("ul",{children:_.length>0&&_.map((function(e){var t=e.id,r=e.title;e.poster_path;return(0,v.jsx)("li",{id:t,children:(0,v.jsx)(p.rU,{to:{pathname:"/movies/".concat("".concat(t)),state:{from:{location:g}}},children:(0,v.jsx)("p",{children:r})})},t)}))})]})}}}]);
//# sourceMappingURL=881.f695f1f0.chunk.js.map